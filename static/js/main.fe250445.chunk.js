(this.webpackJsonpproject_aqua=this.webpackJsonpproject_aqua||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"resetTask",(function(){return g})),a.d(r,"fetchProducts",(function(){return E})),a.d(r,"fetchCurrency",(function(){return h})),a.d(r,"fetchOrders",(function(){return b})),a.d(r,"updateProducts",(function(){return y})),a.d(r,"updateOrder",(function(){return k})),a.d(r,"updateCart",(function(){return w})),a.d(r,"logOut",(function(){return O})),a.d(r,"test",(function(){return j})),a.d(r,"handleToken",(function(){return x})),a.d(r,"checkUser",(function(){return S}));var n=a(0),c=a.n(n),l=a(21),o=a.n(l);a(29);var s=function(){return c.a.createElement("div",{style:{backgroundColor:"#fff"},class:"hide-on-small-only water-back col col-lg-6 col-md-6"},c.a.createElement("img",{class:"responsive-img",src:"https://images.unsplash.com/photo-1548839140-29a749e1cf4d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=335&q=80"}))},u=a(22),i=a(3),d=a(12),m=a.n(d),p=a(25),f=a(26),v=a.n(f),g=function(){return function(e){e({type:"reset",payload:{}})}},E=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://project-aqua.herokuapp.com/data");case 2:a=e.sent,t({type:"fetch_products",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://free.currconv.com/api/v7/convert?q=USD_INR&compact=ultra&apiKey=e12828365b5fa0c320e6");case 2:a=e.sent,t({type:"fetch_currency",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,v.a.post("https://project-aqua.herokuapp.com/order",{user:e});case 3:r=t.sent,console.log(r.data),a({type:"fetch_order",payload:r.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(t){t({type:"update_products",payload:e})}},k=function(e){return function(t){t({type:"update_order",payload:e})}},w=function(e){return function(t){var a=[],r=0;e.map((function(e,t){e.quantity>0&&(r+=e.totalPrice,a.push(e))})),t({type:"update_cart",payload:{cart:a,totalPrice:r}})}},O=function(){return function(e){e({type:"logout"})}},j=function(e,t,a,r,n,c){return function(){var l=Object(p.a)(m.a.mark((function l(o){var s,u,i,d,p,f,g,E,h,b,y,k;return m.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return s=new Date,u=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),d=s.getFullYear(),s=u+"/"+i+"/"+d,p=new Date,f=p.getHours(),g=p.getMinutes(),E=f>=12?"pm":"am",h=(f=(f%=12)||12)+":"+(g=g<10?"0"+g:g)+" "+E,b={name:e.card.name,address:{line1:e.card.address_line1,postal_code:e.card.address_zip,city:e.card.address_city,state:e.card.address_state,country:e.card.address_country}},t.source=e.id,t.shipping=b,console.log(a),y={cart:a,price:r,charge:t,date:s,time:h,order:n,user:c},l.prev=18,l.next=21,v.a.post("https://project-aqua.herokuapp.com/test",y);case 21:"success"===(k=l.sent).data.info?(console.log(k.data.msg),o({type:"success",payload:k.data.msg})):console.log(k.data.msg),l.next=30;break;case 25:l.prev=25,l.t0=l.catch(18),console.log("failed"),console.log(l.t0),o({type:"failed",payload:l.t0});case 30:case"end":return l.stop()}}),l,null,[[18,25]])})));return function(e){return l.apply(this,arguments)}}()},x=function(e,t,a,r){return function(){var n=Object(p.a)(m.a.mark((function n(c){var l,o,s,u,i,d,p,f,g,E,h,b;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),l=new Date,o=String(l.getDate()).padStart(2,"0"),s=String(l.getMonth()+1).padStart(2,"0"),u=l.getFullYear(),l=o+"/"+s+"/"+u,i=new Date,d=i.getHours(),p=i.getMinutes(),f=d>=12?"pm":"am",g=(d=(d%=12)||12)+":"+(p=p<10?"0"+p:p)+" "+f,E={name:e.card.name,address:{line1:e.card.address_line1,postal_code:e.card.address_zip,city:e.card.address_city,state:e.card.address_state,country:e.card.address_country}},t.source=e.id,t.shipping=E,h={cart:a,price:r,charge:t,date:l,time:g},console.log(h),n.prev=19,n.next=22,v.a.post("https://project-aqua.herokuapp.com/api/stripe",h);case 22:"success"===(b=n.sent).data.info?(console.log(b.data.msg),c({type:"success",payload:b.data.msg})):console.log(b.data.msg),n.next=31;break;case 26:n.prev=26,n.t0=n.catch(19),console.log("failed"),console.log(n.t0),c({type:"failed",payload:n.t0});case 31:case"end":return n.stop()}}),n,null,[[19,26]])})));return function(e){return n.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("https://project-aqua.herokuapp.com/glogin",e);case 3:"success"===(r=t.sent).data.info?(console.log(r.data.msg),a({type:"success",payload:r.data.msg}),a({type:"check_user",payload:r.data.content})):(console.log(r.data.msg),a({type:"failed",payload:r.data.msg}),a({type:"check_user",payload:r.data.content})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"failed",payload:"Server Error!"}),a({type:"check_user",payload:null});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},R=a(55),C=a.n(R),_=a(6),P=a.n(_);var D=Object(i.b)((function(e){return console.log(e.authReducer.task),{task:e.authReducer.task}}),r)((function(e){var t=Object(u.f)(),a=Object(n.useRef)(),r=Object(n.useRef)(),l=function(t){var a={name:t.profileObj.givenName,mail:t.profileObj.email,userId:t.profileObj.googleId,dp:t.profileObj.imageUrl};e.checkUser(a)},o=Object(n.useRef)();return Object(n.useEffect)((function(){if(o.current){console.log("update");try{e.task;console.log(e.task.info),"Success"===e.task.info?(P.a.toast({html:e.task.msg}),e.resetTask(),t.push("/")):"Failed"===e.task.info&&(P.a.toast({html:e.task.msg}),e.resetTask())}catch(a){console.log("error")}}else o.current=!0})),c.a.createElement("div",{style:{backgroundColor:"#405C69"},class:"full-width col col-lg-6 col-md-6"},c.a.createElement("div",{class:"container"},c.a.createElement("h1",{class:"white-text"},"Login"),c.a.createElement("form",{style:{padding:"5px 25px",backgroundColor:"#EAEFF9"}},c.a.createElement(C.a,{className:"m-1",clientId:"661529233526-e260b5p3gdrbklsm0pc877l9rnc7n57v.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:l,onFailure:l}),c.a.createElement("div",{style:{height:"20px",position:"relative"}},c.a.createElement("div",{style:{zIndex:1,height:"1px",backgroundColor:"#000",width:"100%",position:"absolute",left:0,top:"50%",bottom:"50%"}}),c.a.createElement("p",{style:{position:"absolute",left:"45%",width:"10%",zIndex:12,backgroundColor:"#EAEFF9"},class:"center"}," OR")),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field"},c.a.createElement("i",{class:"material-icons prefix"},"account_circle"),c.a.createElement("input",{ref:a,type:"text",class:"validate"}),c.a.createElement("label",{for:"icon_prefix"},"Username"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field"},c.a.createElement("i",{class:"material-icons prefix"},"account_circle"),c.a.createElement("input",{ref:r,type:"password",class:"validate"}),c.a.createElement("label",{for:"icon_prefix"},"Password"))),c.a.createElement("a",{onClick:function(){return function(){if(console.log(a.current.value),"skywalker"===a.current.value.trim()&&"asdf"===r.current.value.trim()){e.checkUser({name:"marees",mail:"mareesdroid@gmail.com",userId:"687ada9853",dp:"test"})}else""===a.current.value.trim()||""===r.current.value.trim()?P.a.toast({html:"Username or password cannot be empty!"}):P.a.toast({html:"User not found try Google login.."})}()},style:{backgroundColor:"#405C69"},class:"waves-effect waves-light white-text btn"},"Login"))))}));var q=function(){return c.a.createElement("div",null,c.a.createElement("nav",{class:"black"},c.a.createElement("div",{class:"container nav-wrapper"},c.a.createElement("a",{href:"#",class:"brand-logo"},"Logo"),c.a.createElement("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",{href:"sass.html"},"Login"))))),c.a.createElement("div",{class:"container mt-5 center"},c.a.createElement("div",{class:"row"},c.a.createElement(s,null),c.a.createElement(D,null))))},T=a(10),F=a(16),N=a(127),A=a(60),I=a.n(A),L=a(126);var z=Object(i.b)((function(e){return{products:e.authReducer.products,user:e.authReducer.user,cart:e.authReducer.cart}}),r)((function(e){var t=Object(u.f)(),a=function(e){t.push(e)},r=null;Object(n.useEffect)((function(){console.log(e);var t=document.querySelector(".sidenav");r=P.a.Sidenav.init(t)}),[]);var l,o=function(){console.log("hey"),r&&r.close()};return l=e.cart,function(){var t,n,s;try{t=e.user.dp,n=e.user.name,s=e.user.mail}catch(u){t="",n="",s=""}return c.a.createElement("div",null,c.a.createElement("ul",{id:"slide-out",className:"sidenav"},c.a.createElement("li",null,c.a.createElement("div",{className:"user-view"},c.a.createElement("div",{className:"background blue"},c.a.createElement("a",null,c.a.createElement("i",{style:{float:"right",padding:"15px"},class:"material-icons white"},"close"))),c.a.createElement("a",null,c.a.createElement("img",{className:"circle",src:t})),c.a.createElement("a",{href:"#name"},c.a.createElement("span",{className:"black-text name"},n)),c.a.createElement("a",{href:"#email"},c.a.createElement("span",{className:"black-text email"},s)))),c.a.createElement(T.b,{onClick:function(){return o()},to:"/"},c.a.createElement("li",null,c.a.createElement("a",{href:"#"},c.a.createElement("i",{className:"material-icons"},"cloud"),"Home"))),c.a.createElement(T.b,{onClick:function(){return o()},to:"/order"},c.a.createElement("li",null,c.a.createElement("a",{href:"#"},c.a.createElement("i",{className:"material-icons"},"cloud"),"My Orders"))),c.a.createElement(T.b,{onClick:function(){return o()},to:"/cart"},c.a.createElement("li",null,c.a.createElement("a",null,c.a.createElement("i",{className:"material-icons"},"cloud"),"Cart"))),c.a.createElement("li",null,c.a.createElement("div",{class:"divider"})),c.a.createElement("li",null,c.a.createElement("a",{class:"subheader"},"More")),c.a.createElement("li",null,c.a.createElement("a",{class:"waves-effect",href:"#!"},"Contact")),c.a.createElement("li",null,c.a.createElement("a",{class:"waves-effect",href:"#!"},"Help")),c.a.createElement("li",null,c.a.createElement("a",{class:"waves-effect",onClick:function(){return o(),e.logOut(),void a("login")}},"Logout"))),c.a.createElement("nav",{class:"blue darken-5"},c.a.createElement("div",{class:"nav-wrapper"},c.a.createElement("a",{onClick:function(){return function(){if(console.log("test"),r)r.open();else{var e=document.querySelector(".sidenav");(r=P.a.Sidenav.init(e)).open()}}()},style:{padding:"0 35px",float:"left"},class:"brand-logo left"},c.a.createElement("i",{class:"material-icons "},"menu")),c.a.createElement(N.a,{style:{position:"absolute",top:"10%",right:"2%",bottom:"10%"},"aria-label":"cart",onClick:function(){return a("cart")}},c.a.createElement(L.a,{badgeContent:"undefined"===typeof l?0:l.length,color:"secondary"},c.a.createElement(I.a,{style:{color:"#FFFFFF"}}))))))}()}));var U=Object(i.b)((function(e){return console.log(e.authReducer.products),{products:e.authReducer.products}}),r)((function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(F.a)(o,2),u=s[0],i=s[1],d=Object(n.useState)(),m=Object(F.a)(d,2),p=m[0],f=m[1],v=(Object(n.useRef)(null),[]);Object(n.useEffect)((function(){try{if(e.products.length>0)return void console.log(e.products)}catch(t){console.log(t)}e.fetchProducts(),console.log(e)}),[]);var g=function(t,a){console.log(a),v.map((function(r){r._id===a&&(console.log(r),"add"===t?(r.quantity++,console.log(r)):r.quantity>0?(r.quantity--,0===r.quantity&&(r.totalPrice=0,E())):(r.totalPrice=0,E()),r.totalPrice=r.quantity*r.price),i(!u),console.log(v),e.updateProducts(v),e.updateCart(v)}))},E=function(e){f(e),i(!u)},h=function(e,t){return""===t&&u?"hide":e===p?"cart"===t||""===t?"hide":"show":"cart"===t?"show":"hide"};return c.a.createElement("div",{class:"row"},function(){v=e.products;var t=e.mode,a=[];try{return"all"===t?a=v:v.map((function(e,r){console.log(e.type),e.type===t&&a.push(e)})),console.log("test"),a.map((function(e,t){return c.a.createElement("div",{class:"card p-2 col-lg-4 col-md-6 col-sm-12"},c.a.createElement("div",{style:{position:"relative",height:"200px"},class:"m-3 card-body"},c.a.createElement("span",{class:"".concat((a=e.quantity,a>0?"show":"hide")," my-badge white-text badge red badge-").concat(t)},e.quantity),c.a.createElement("img",{class:"product-img card-img-top",src:e.img,alt:"..."}),c.a.createElement("div",{class:"product-detail"},c.a.createElement("h5",{class:"name-text"},e.name),c.a.createElement("p",{class:"sub-text"},"\u20b9",e.price," - ",e.type)),c.a.createElement("div",{class:"cart-btn"},c.a.createElement("a",{onClick:function(){return function(e,t){console.log(t),g("add",t),l(!r),f(e)}(t,e._id)},class:"".concat(h(t,"cart")," bg-dark blue-text d-block btn btn-primary cart-").concat(t)},"Add To Cart"),c.a.createElement("div",{className:"".concat(h(t,"qnt")," add-menu-").concat(t)},c.a.createElement("div",{class:"justify-content-center d-flex p-3"},c.a.createElement("a",{onClick:function(){return g("remove",e._id)},class:"m-1 valign-wrapper col col-lg-3 col-md-3 col-sm-4 waves-effect waves-light btn"},c.a.createElement("i",{class:"material-icons tiny"},"remove")),c.a.createElement("p",{class:"m-1 btn white black-text text-center center col col-lg-3 col-md-3 col-sm-4 quant-".concat(t)},e.quantity),c.a.createElement("a",{onClick:function(){return g("add",e._id)},class:"m-1 valign-wrapper col col-lg-3 col-md-3 col-sm-4 waves-effect waves-light btn"},c.a.createElement("i",{class:"material-icons tiny"},"add")))))));var a}))}catch(n){return c.a.createElement("h1",null,"Oops! Something wen Wrong..")}}())}));var M=Object(i.b)((function(e){return console.log(e.authReducer.user),{user:e.authReducer.user}}),r)((function(e){var t=Object(u.f)();Object(n.useEffect)((function(){try{e.user.userId&&console.log("signed")}catch(a){t.push("login")}}),[]);var a=Object(n.useState)("all"),r=Object(F.a)(a,2),l=r[0],o=r[1],s=function(e){return console.log(l),console.log(e),l===e?"blue text-white":"grey"};return c.a.createElement("div",{class:"home"},c.a.createElement(z,null),c.a.createElement("div",{style:{backgroundColor:"#fff"},class:"container mt-5 mb-5"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{onClick:function(){return o("all")},class:"".concat(s("all")," chip chipWs")},c.a.createElement("img",{class:"circle",src:"https://cdn3.vectorstock.com/i/1000x1000/07/67/small-water-bottle-vector-3300767.jpg",alt:"Contact Person"}),"All"),c.a.createElement("div",{onClick:function(){return o("10ltr")},class:"".concat(s("10ltr")," chip chipWs")},c.a.createElement("img",{src:"https://cdn3.vectorstock.com/i/1000x1000/07/67/small-water-bottle-vector-3300767.jpg",alt:"Contact Person"}),"10Ltrs"),c.a.createElement("div",{onClick:function(){return o("5ltr")},class:"".concat(s("5ltr")," chip chipWs")},c.a.createElement("img",{src:"https://cdn3.vectorstock.com/i/1000x1000/07/67/small-water-bottle-vector-3300767.jpg",alt:"Contact Person"}),"5Ltrs"),c.a.createElement("div",{onClick:function(){return o("1ltr")},class:"".concat(s("1ltr")," chip chipWs")},c.a.createElement("img",{src:"https://cdn3.vectorstock.com/i/1000x1000/07/67/small-water-bottle-vector-3300767.jpg",alt:"Contact Person"}),"1Ltr")),c.a.createElement(U,{mode:l})))}));var W=Object(i.b)((function(e){return console.log(e.authReducer.products),{products:e.authReducer.products,price:e.authReducer.price}}),r)((function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),r=a[0],l=a[1],o=e.price,s=Object(u.f)(),i=[],d=function(t,a){console.log(a),i.map((function(n){n._id===a&&(console.log(n),"add"===t?n.quantity++:n.quantity>0?n.quantity--:n.totalPrice=0,n.totalPrice=n.quantity*n.price),l(!r),console.log(i),e.updateProducts(i),e.updateCart(i)}))},m=function(e){return e.map((function(e,t){return c.a.createElement("div",{class:"row justify-content-center"},c.a.createElement("div",{class:"card col-xl-6 col-md-6 col-lg-6 col-sm-12"},c.a.createElement("div",{class:"card-image cart-img"},c.a.createElement("img",{src:e.img})),c.a.createElement("div",{style:{float:"right"},class:"card-content"},c.a.createElement("div",{class:"contents"},c.a.createElement("div",{style:{width:"50%"},class:"head-content center"},c.a.createElement("h6",{class:"name-text center"},e.name),c.a.createElement("h7",{class:"sub-text center"},e.type)),c.a.createElement("div",{style:{width:"50%"},class:"my-holder center"},c.a.createElement("div",{className:"add-menu"},c.a.createElement("div",{class:"btn-group",role:"group","aria-label":"..."},c.a.createElement("button",{onClick:function(){return d("remove",e._id)},type:"button",class:"btn btn-lg btn-secondary"},"-"),c.a.createElement("button",{type:"button",class:"btn text-dark btn-lg bg-white btn-secondary"},e.quantity),c.a.createElement("button",{onClick:function(){return d("add",e._id)},type:"button",class:"btn btn-lg btn-secondary"},"+"))),c.a.createElement("h4",{class:"text-center"},"\u20b9",e.totalPrice))))))}))};return c.a.createElement("div",null,c.a.createElement(z,null),c.a.createElement("div",{class:"my-container container mt-5"},function(){i=e.products;var t=[];return i.map((function(e,a){e.quantity>0&&t.push(e)})),i=t,console.log(i),i.length>0?c.a.createElement("div",null,m(i),c.a.createElement("div",{onClick:function(){return e="checkout",void s.push(e);var e},style:{width:"100%"},class:"mt-3 mb-3 btn"},"Checkout \u20b9",o)):c.a.createElement("h1",null,"Cart is Empty")}()))})),H=a(61),J=a.n(H);var Q=Object(i.b)((function(e){return console.log(e.authReducer),{orderList:e.authReducer.orderList,user:e.authReducer.user}}),r)((function(e){return Object(n.useEffect)((function(){console.log(e.user._id),e.fetchOrders(e.user._id)}),[]),c.a.createElement("div",null,c.a.createElement(z,null),c.a.createElement("div",{style:{backgroundColor:"#fff"},class:"container mt-5 mb-5"},c.a.createElement("table",{class:"responsive-table centered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{class:"center"},"Date"),c.a.createElement("th",{class:"center"},"Time"),c.a.createElement("th",{class:"center"},"Order Amount"),c.a.createElement("th",{class:"center"},"Status"),c.a.createElement("th",{class:"center"},"Receipt"))),c.a.createElement("tbody",null,function(){try{return e.orderList.reverse().map((function(e,t){return c.a.createElement("tr",{class:"tab-row row-".concat(t)},c.a.createElement("td",null,e.date),c.a.createElement("td",null,e.time),c.a.createElement("td",null,"\u20b9",e.price),c.a.createElement("td",null,e.status),c.a.createElement("td",null,c.a.createElement("a",{onClick:function(){return function(e){var t=e.cart,a=new J.a;a.setFontSize(22),a.text("Project Aqua",105,20,null,null,"center"),a.setFontSize(16),a.text("Order Details",105,30,null,null,"center"),a.setFontSize(8),a.text("Date: ".concat(e.date),15,40,null,null),a.text("Time: ".concat(e.time),15,50,null,null),a.setFontSize(16),a.text("Delivery Details",105,60,null,null,"center"),a.setFontSize(8),a.text("Name: ".concat(e.time),15,70,null,null),a.text("Contact Number: ".concat(e.time),15,80,null,null),a.text("Delivery Date: ".concat(e.time),15,90,null,null),a.text("Time: ".concat(e.time,"  -  ").concat(e.time),15,100,null,null),a.text("Delivery Address: ",15,110,null,null),a.text("".concat(e.time),25,120,null,null,"center"),a.setLineWidth(1),a.setDrawColor(0),"Pending"===e.status?(a.setFontSize(8),a.text("Pending",200,20,null,null,"center"),a.setFillColor(255,255,153)):"Delivered"===e.status?(a.setFontSize(8),a.text("Delivered",200,20,null,null,"center"),a.setFillColor(153,255,153)):(a.setFontSize(8),a.text("Canceled",200,20,null,null,"center"),a.setFillColor(255,153,153)),a.circle(200,10,5,"FD");var r=function(e){for(var t=[],a=0;a<e.length;a+=1)t.push({id:e[a],name:e[a],prompt:e[a],width:55,align:"center",padding:0});return console.log(t),t}(["Product","Type","Price","Quantity","Total_Price"]);console.log(r),a.table(1,140,function(e){var t=[];return e.map((function(e,a){var r={id:(a+1).toString(),Product:e.name,Type:e.type,Price:"".concat(e.price.toString()),Quantity:e.quantity.toString(),Total_Price:e.totalPrice.toString()};t.push(Object.assign({},r))})),console.log(t),t}(t),r),a.output("dataurlnewwindow")}(e)},class:"waves-effect blue text-white waves-light btn btn-small"},"View")))}))}catch(t){return c.a.createElement("h1",null)}}()))))})),K=(a(95),a(36)),Y=a.n(K);var G=Object(i.b)((function(e){return console.log(e.authReducer),{products:e.authReducer.products,price:e.authReducer.price,cart:e.authReducer.cart}}),r)((function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),r=(a[0],a[1],Object(u.f)()),l=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useRef)(),i=Object(n.useRef)(),d=Object(n.useRef)(),m=Object(n.useRef)(),p=(Object(n.useRef)(),function(){if(""===l.current.value.trim()||""===s.current.value.trim()||""===o.current.value.trim()||""===i.current.value.trim()||""===d.current.value.trim()||""===m.current.value.trim())P.a.toast({html:"Please Fill All the fields!"});else{var t={name:l.current.value.trim(),contact:s.current.value.trim(),address:o.current.value.trim(),date:i.current.value.trim(),startTime:d.current.value.trim(),endTime:m.current.value.trim()};e.updateOrder(t),a="/payment",r.push(a)}var a}),f=function(e){var t={};("date"===e?P.a.Datepicker.init(document.querySelector(".datepicker"),t):"start"===e?P.a.Timepicker.init(document.querySelector(".starttime"),t):P.a.Timepicker.init(document.querySelector(".endtime"),t)).open()};return c.a.createElement("div",null,c.a.createElement(z,null),c.a.createElement("div",{style:{backgroundColor:"#fff"},class:"container mt-5 mb-5"},c.a.createElement("div",{class:"row"},c.a.createElement("form",{class:"col s12"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:l,id:"first_name",type:"text",class:"validate"}),c.a.createElement("label",{for:"first_name"},"Name"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:o,id:"password",type:"password",class:"validate"}),c.a.createElement("label",{for:"password"},"Delivery Address"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:s,id:"email",type:"email",class:"validate"}),c.a.createElement("label",{for:"email"},"Contact Number"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:i,onClick:function(){return f("date")},type:"text",class:"datepicker"}),c.a.createElement("label",{for:"email"},"Delivery Date"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s6"},c.a.createElement("input",{ref:d,onClick:function(){return f("start")},type:"text",class:"starttime"}),c.a.createElement("label",{for:"email"},"From")),c.a.createElement("div",{class:"input-field col s6"},c.a.createElement("input",{ref:m,onClick:function(){return f("end")},type:"text",class:"endtime"}),c.a.createElement("label",{for:"email"},"To"))),c.a.createElement("div",{class:"row"},c.a.createElement("h5",null,"Choose Payment Options")),c.a.createElement("div",{class:"row justify-content-center"}),c.a.createElement("div",{class:"row "},c.a.createElement("div",{onClick:function(){return p()},style:{width:"100%"},class:"mt-3 mb-3 btn"},"Place Order"))))))}));var V=Object(i.b)((function(e){return console.log(e.authReducer),{products:e.authReducer.products,price:e.authReducer.price,cart:e.authReducer.cart,task:e.authReducer.task,usd:e.authReducer.usd,order:e.authReducer.orderInfo,user:e.authReducer.user}}),r)((function(e){var t=Object(u.f)(),a=Object(n.useRef)();Object(n.useEffect)((function(){e.fetchCurrency()}),[]),Object(n.useEffect)((function(){if(a.current){console.log("update");try{e.task;console.log(e.task.info),"Success"===e.task.info?(P.a.toast({html:e.task.msg}),e.resetTask(),r="/order",t.push(r),e.fetchProducts()):"Failed"===e.task.info&&(P.a.toast({html:e.task.msg}),e.resetTask())}catch(n){console.log("error")}}else a.current=!0;var r}));var r=function(){return console.log(e.price),Math.trunc(e.price/e.usd*100)};return c.a.createElement("div",null,c.a.createElement(z,null),c.a.createElement("div",{style:{backgroundColor:"#fff"},class:"container mt-5 mb-5"},c.a.createElement("div",{class:"row justify-content-center"},c.a.createElement("div",{class:"col col-lg-2 col-md-3 col-sm-6 "},c.a.createElement(Y.a,{amount:r(),billingAddress:!0,description:"Order Amount ".concat(e.price,"rs."),image:"https://yourdomain.tld/images/logo.svg",locale:"auto",name:"Project Aqua",token:function(t){return function(t){var a={amount:r(),currency:"INR",description:"Awesome Product"};console.log(e.cart),e.test(t,a,e.cart,e.price,e.order,e.user._id)}(t)},stripeKey:"pk_test_1Oh8qRKbcxDrP3OJbctRfz2f00IVT0fe0r"},c.a.createElement("img",{class:"img-card",src:"https://drive.google.com/uc?export=view&id=1N4vsQqz7TT_l2F8IAY6U3nZIAZCCle3R"}))),c.a.createElement("div",{class:"col col-lg-2 col-md-4 col-sm-6 "},c.a.createElement("img",{class:"img-card",src:"https://drive.google.com/uc?export=view&id=1Al3T0kr4aUJxPz7yssI7Pxe9kWkou06a"})))))}));var Z=Object(i.b)((function(e){return console.log(e),"init"===e.authReducer.auth?(console.log("--\x3e>> STEP 1.4: @HEADER ///STORE UPDATED///"),console.log("--\x3e>> STEP 1.5: @HEADER Store updated... Initail state Mapping")):(console.log("--\x3e>> STEP 7: @HEADER ///STORE UPDATED///"),console.log("--\x3e>> STEP 7.1: @HEADER Store updated... Mapping states to props")),{auth:e.authReducer.auth}}),r)((function(e){return Object(n.useEffect)((function(){})),c.a.createElement(T.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/"},c.a.createElement(M,null)),c.a.createElement(u.a,{exact:!0,path:"/order"},c.a.createElement(Q,null)),c.a.createElement(u.a,{exact:!0,path:"/cart"},c.a.createElement(W,null)),c.a.createElement(u.a,{exact:!0,path:"/login"},c.a.createElement(q,null)),c.a.createElement(u.a,{exact:!0,path:"/checkout"},c.a.createElement(G,null)),c.a.createElement(u.a,{exact:!0,path:"/payment"},c.a.createElement(V,null))))})),B=a(37),X=(a(96),a(62)),$=a(41),ee=a(20),te=a(17),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],cart:[]},t=arguments.length>1?arguments[1]:void 0,a={msg:t.payload};switch(t.type){case"fetch_payment":return e;case"fetch_products":var r=[];return console.log(t.payload),t.payload&&t.payload.map((function(e){e.quantity||(e.quantity=0,e.totalPrice=0),r.push(e)})),e=Object(te.a)({},e,{products:r||!1,cart:[],price:0});case"update_products":return e;case"update_cart":return e=Object(te.a)({},e,{cart:t.payload.cart||!1,price:t.payload.totalPrice||!1});case"fetch_currency":return e=Object(te.a)({},e,{usd:t.payload.USD_INR||!1});case"fetch_order":return e=Object(te.a)({},e,{orderList:t.payload||!1}),console.log(e),console.log(t.payload),e;case"update_order":return e=Object(te.a)({},e,{orderList:t.payload.orderList});case"get_cart":return e;case"check_user":return e=Object(te.a)({},e,{user:t.payload||!1});case"success":return a.info="Success",e=Object(te.a)({},e,{task:a||!1});case"failed":return a.info="Failed",e=Object(te.a)({},e,{task:a||!1});case"reset":return a.info="Reset",e=Object(te.a)({},e,{task:a||!1});case"logout":return e=[];default:return console.log("--\x3e>> STEP 1.1: @REDUCER Initial State is assigned to store our state is :"),console.log("--\x3e>> STEP 1.2: @REDUCER State is sent to store"),console.log(e),e}},re=Object(ee.combineReducers)({authReducer:ae,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_surveys":return t.payload;default:return e}}}),ne=a(63),ce=function(){function e(){Object(X.a)(this,e),this._store=null,this.initStore()}return Object($.a)(e,null,[{key:"getDefaultStore",value:function(){return null===e.DefaultStore&&(e.DefaultStore=new e),e.DefaultStore}}]),Object($.a)(e,[{key:"initStore",value:function(){var t=this;this._store=Object(ee.createStore)(re,e.loadState(),Object(ne.composeWithDevTools)(Object(ee.applyMiddleware)(B.a))),this._store.subscribe((function(){e.saveState(t._store.getState())}))}},{key:"store",get:function(){return this._store}}],[{key:"loadState",value:function(){try{var t=localStorage.getItem("localData");return null===t?e.initialState():JSON.parse(t)}catch(a){return e.initialState()}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("localData",t)}catch(a){}}},{key:"initialState",value:function(){return{}}}]),e}();ce.DefaultStore=null;var le=ce;a(106);o.a.render(c.a.createElement(i.a,{store:le.getDefaultStore().store},c.a.createElement(Z,null)),document.querySelector("#root"))},29:function(e,t,a){},65:function(e,t,a){e.exports=a(107)}},[[65,1,2]]]);
//# sourceMappingURL=main.fe250445.chunk.js.map